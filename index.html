<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Arquitectura. Recursos y extensiones</title>
    <meta
      name="description"
      content="Listado de plugins y recursos relacionados con arquitectura, modelado paramétrico y MEP, con enlaces y vídeos."
    />
    <!--<style>
      :root {
        color-scheme: light;
      }
      body {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
        line-height: 1.55;
        margin: 0;
      }
      header {
        justify-content: center;
        align-items: center;
        padding: 1rem 8rem 8rem;
        border-bottom: 1px solid rgba(127, 127, 127, 0.25);
        background-color: #005f9e;
        color: #f0f0f0;
      }
      main {
        padding: 1rem;
        max-width: 1000px;
        margin: 0 auto;
      }
      h1 {
        justify-content: center;
        align-items: center;
        margin: 0 0 0.25rem 0;
        font-size: 2rem;
      }
      h2 {
        margin-top: 2rem;
        font-size: 1.6rem;
      }
      h3 {
        margin-top: 1.5rem;
        font-size: 1.25rem;
      }
      p {
        margin: 0.5rem 0;
      }
      .section {
        padding: 1rem;
        border: 1px solid rgba(127, 127, 127, 0.25);
        background-color: #fdfdfd;
        border-radius: 12px;
        margin: 1rem 0;
      }
      .section-blue {
        padding: 1rem;
        border: 1px solid rgba(127, 127, 127, 0.25);
        background-color: #97c5f4;
        border-radius: 12px;
        margin: 1rem 0;
      }
      .section-green {
        padding: 1rem;
        border: 1px solid rgba(127, 127, 127, 0.25);
        background-color: #d9ffa3;
        border-radius: 12px;
        margin: 1rem 0;
      }
      .section-orange {
        padding: 1rem;
        border: 1px solid rgba(127, 127, 127, 0.25);
        background-color: #f5c476;
        border-radius: 12px;
        margin: 1rem 0;
      }
      .section-grey {
        padding: 1rem;
        border: 1px solid rgba(127, 127, 127, 0.25);
        background-color: #8d8d8d;
        border-radius: 12px;
        margin: 1rem 0;
      }
      .section-purp {
        padding: 1rem;
        border: 1px solid rgba(127, 127, 127, 0.25);
        background-color: #dc9df3;
        border-radius: 12px;
        margin: 1rem 0;
      }
      .section-marin {
        padding: 1rem;
        border: 1px solid rgba(127, 127, 127, 0.25);
        background-color: #4283f4;
        border-radius: 12px;
        margin: 1rem 0;
      }
      .meta {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem 1rem;
        margin-top: 0.75rem;
      }
      .meta a {
        text-decoration: none;
        border-bottom: 1px solid currentColor;
      }
      .label {
        font-weight: 600;
      }
      .videos {
        margin-top: 0.75rem;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1rem;
      }
      .videos iframe {
        width: 100%;
        aspect-ratio: 16 / 9;
        height: auto;
        border: 0;
        border-radius: 12px;
      }
      .placeholder {
        opacity: 0.75;
        font-style: italic;
      }
      ul {
        margin: 0.5rem 0 0.5rem 1.25rem;
      }
      footer {
        padding: 2rem 1rem;
        border-top: 1px solid rgba(127, 127, 127, 0.25);
        margin-top: 2rem;
      }
      small {
        opacity: 0.8;
      }
      .yt-embed {
        width: 100%;
        aspect-ratio: 16 / 9;
        height: auto;
        border: 1px solid rgba(127, 127, 127, 0.25);
        border-radius: 12px;
        background-color: #f0f0f0;
        display: block;
      }
      .tabs {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: .5rem;
        padding: 1rem;
        border-bottom: 1px solid rgba(127,127,127,.25);
        flex-wrap: wrap;
        }
        .tabs button {
        padding: .5rem 1rem;
        border: 1px solid rgba(127,127,127,.25);
        background-color: #f5f5f5;
        border-radius: 8px;
        cursor: pointer;
        }

        .tabs button.active {
        background-color: #ffbe00;
        font-weight: 600;
        }

        #tab-content {
        padding: 1rem;
        }
        .cookie-banner {
        position: fixed;
        left: 0;
        right: 0;
        bottom: 0;
        padding: 1rem;
        background: rgba(255,255,255,.98);
        border-top: 1px solid rgba(127,127,127,.25);
        box-shadow: 0 -6px 24px rgba(0,0,0,.08);
        z-index: 9999;
        }

        .cookie-banner .inner {
        max-width: 1000px;
        margin: 0 auto;
        display: grid;
        gap: .75rem;
        }

        .cookie-banner p {
        margin: 0;
        }

        .cookie-banner .actions {
        display: flex;
        flex-wrap: wrap;
        gap: .5rem;
        justify-content: flex-end;
        }

        .cookie-banner button {
        padding: .5rem 1rem;
        border-radius: 10px;
        border: 1px solid rgba(127,127,127,.35);
        background: #f5f5f5;
        cursor: pointer;
        }

        .cookie-banner button.primary {
        background: #97c5f4;
        border-color: rgba(127,127,127,.35);
        font-weight: 600;
        }

        .cookie-banner a {
        text-decoration: none;
        border-bottom: 1px solid currentColor;
        }

        .cookie-hidden {
        display: none;
        }


    </style>-->
    <link rel="stylesheet" href="styles.css">
    <!--<script src="app.js" defer></script>-->
  </head>

  <body>
    <header>
    <div>
      <h1>Modelado de Proyectos con SketchUp - Wiki ( by Rtches )</h1>
      <p>
        Recursos, extensiones y utilidades relacionadas con el modelado
        Arquitectónico - Estructural - MEP y la generación documentación
        trabajando en el entorno de SketchUp y Trimble.
      </p>
    </div>
    </header>



    <nav class="tabs">
    <button data-tab="arquitectura">Arquitectura</button>
    <button data-tab="mep">MEP</button>
    <button data-tab="paisajismo">Paisajismo</button>
    <button data-tab="estructura">Estructura</button>
    <button data-tab="interiorismo">Interiorismo</button>
    <button data-tab="colaboracion">Colaboración</button>
    <button data-tab="mediciones">Mediciones</button>
    <button data-tab="planificacion">Planificación 4D</button>
    <button data-tab="movilidad">Trabajo en Movilidad</button>
    </nav>

    <main id="tab-content"></main>

      <footer>
        <small
          >Contenido generado por Rafael Teresa bajo su criterio personal y
          experiencia de modelado con SketchUp Pro para que sirvan de ayuda a
          los usuarios no responsabilizandose de los cambios que se realicen en
          los distintos software recomendados. Los enlaces han sido extraidos de
          las distintas páginas de los distribuidores de software en el momento
          de la confección de la web y pueden variar por lo que se recomienda
          contactar con las empresas distrubuidoras de software previo a su
          compra.<br />
          <a href="cookies.html">política de cookies. </a><a href="aviso-legal.html">aviso legal. </a><a href="privacidad.html">política de privacidad. </a>
          <a href="#" id="cookieSettings">Preferencias de cookies</a>
        </small>

      </footer>

     <script>
        document.getElementById("cookieSettings").addEventListener("click", (e) => {
        e.preventDefault();
        localStorage.removeItem("cookie_consent");
        document.getElementById("cookieBanner").classList.remove("cookie-hidden");
        });
      </script>
    <script>
      (() => {
        "use strict";

        const MAX_ACTIVE_YT_IFRAMES = 3;

        // Cola FIFO de iframes que están actualmente cargados (src real).
        const activeQueue = [];

        function isLoaded(iframe) {
          return iframe.dataset.loaded === "1";
        }

        function setLoaded(iframe, value) {
          iframe.dataset.loaded = value ? "1" : "0";
        }

        function loadIframe(iframe) {
          if (isLoaded(iframe)) return;

          const realSrc = iframe.getAttribute("data-src");
          if (!realSrc) return;

          iframe.setAttribute("src", realSrc);
          setLoaded(iframe, true);

          // Evitar duplicados en la cola
          const idx = activeQueue.indexOf(iframe);
          if (idx >= 0) activeQueue.splice(idx, 1);

          activeQueue.push(iframe);
          enforceLimit();
        }

        function unloadIframe(iframe) {
          if (!isLoaded(iframe)) return;

          // Descargar el reproductor.
          iframe.setAttribute("src", "about:blank");

          // Clave para que reaparezca al volver: marcar como NO cargado.
          setLoaded(iframe, false);

          const idx = activeQueue.indexOf(iframe);
          if (idx >= 0) activeQueue.splice(idx, 1);
        }

        function enforceLimit() {
          // Limpieza de referencias huérfanas
          for (let i = activeQueue.length - 1; i >= 0; i--) {
            const f = activeQueue[i];
            if (!f || !document.contains(f)) activeQueue.splice(i, 1);
          }

          while (activeQueue.length > MAX_ACTIVE_YT_IFRAMES) {
            const oldest = activeQueue.shift();
            if (oldest) unloadIframe(oldest);
          }
        }

        const observer = new IntersectionObserver(
          (entries) => {
            for (const entry of entries) {
              const iframe = entry.target;

              if (entry.isIntersecting) {
                loadIframe(iframe);
              } else {
                // Opcional, pero recomendado si hay muchos vídeos: apagar al salir de pantalla.
                unloadIframe(iframe);
              }
            }
          },
          {
            threshold: 0.15,
            rootMargin: "200px 0px 200px 0px",
          }
        );

        document
          .querySelectorAll("iframe.yt-embed[data-src]")
          .forEach((iframe) => {
            // Estado inicial
            if (!iframe.getAttribute("src"))
              iframe.setAttribute("src", "about:blank");
            if (iframe.dataset.loaded !== "0" && iframe.dataset.loaded !== "1")
              setLoaded(iframe, false);

            observer.observe(iframe);
          });

        // Cuando se vuelve a la pestaña, se reevalúa el límite.
        document.addEventListener("visibilitychange", () => {
          if (!document.hidden) enforceLimit();
        });

        // Para el caso de que no se acepten las cookies.
        const consent = localStorage.getItem("cookie_consent");
        if (consent !== "accepted") return;

      })();
    </script>

    <script>
        (() => {
        const container = document.getElementById("tab-content");
        const buttons = document.querySelectorAll(".tabs button");

        async function loadTab(name) {
            // Limpia contenido actual
            container.innerHTML = "";

            // Marca pestaña activa
            buttons.forEach(b => b.classList.toggle("active", b.dataset.tab === name));

            try {
            const resp = await fetch(name + ".html");
            if (!resp.ok) throw new Error("No se pudo cargar " + name);
            const html = await resp.text();
            container.innerHTML = html;
            if (typeof window.applyCookieConsentToEmbeds === "function") {
                window.applyCookieConsentToEmbeds();
            }
            } catch (e) {
            container.innerHTML = "<p>Error cargando sección.</p>";
            }
        }

        buttons.forEach(btn => {
            btn.addEventListener("click", () => loadTab(btn.dataset.tab));
        });

        // Cargar la primera por defecto
        loadTab(buttons[0].dataset.tab);
        })();
    </script>

    <div id="cookieBanner" class="cookie-banner cookie-hidden" role="dialog" aria-live="polite" aria-label="Aviso de cookies">
        <div class="inner">
            <p>
            Este sitio web utiliza cookies de terceros para mostrar vídeos embebidos de YouTube. se puede aceptar o rechazar su uso. más información en la
            <a href="cookies.html">política de cookies</a>.
            </p>
            <div class="actions">
            <button id="cookieReject">Rechazar</button>
            <button id="cookieAccept" class="primary">Aceptar</button>
            </div>
        </div>
    </div>
    <script>
        (() => {
        "use strict";

        const KEY = "cookie_consent";
        const banner = document.getElementById("cookieBanner");
        const btnAccept = document.getElementById("cookieAccept");
        const btnReject = document.getElementById("cookieReject");

        function getConsent() {
            return localStorage.getItem(KEY); // "accepted" | "rejected" | null
        }

        function setConsent(value) {
            localStorage.setItem(KEY, value);
        }

        function showBanner() {
            banner.classList.remove("cookie-hidden");
        }

        function hideBanner() {
            banner.classList.add("cookie-hidden");
        }

        function loadYouTubeEmbeds() {
            document.querySelectorAll("iframe.yt-embed[data-src]").forEach((iframe) => {
            const src = iframe.getAttribute("data-src");
            if (!src) return;
            //if (iframe.getAttribute("src") === src) return;
            iframe.setAttribute("src", src);
            });
        }

        function unloadYouTubeEmbeds() {
            document.querySelectorAll("iframe.yt-embed").forEach((iframe) => {
            iframe.setAttribute("src", "about:blank");
            });
        }

        function applyConsent(consent) {
            if (consent === "accepted") {
            loadYouTubeEmbeds();
            } else if (consent === "rejected") {
            unloadYouTubeEmbeds();
            }
        }

        const current = getConsent();
        if (!current) {
            showBanner();
        } else {
            applyConsent(current);
        }

        btnAccept.addEventListener("click", () => {
            setConsent("accepted");
            applyConsent("accepted");
            hideBanner();
        });

        btnReject.addEventListener("click", () => {
            setConsent("rejected");
            applyConsent("rejected");
            hideBanner();
        });

        window.applyCookieConsentToEmbeds = function () {
            const consent = localStorage.getItem("cookie_consent");

            if (consent === "accepted") {
                document.querySelectorAll("iframe.yt-embed[data-src]").forEach((iframe) => {
                const src = iframe.getAttribute("data-src");
                if (src) iframe.setAttribute("src", src);
                });
            } else {
                document.querySelectorAll("iframe.yt-embed").forEach((iframe) => {
                iframe.setAttribute("src", "about:blank");
                });
            }
            };


        })();
    </script>


  </body>
</html>